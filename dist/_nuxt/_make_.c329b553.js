import{n as re,h as I,q as U,c as w,a as d,s as $,e as ae,o as h,b as _,f as ne,t as E,C as se,z as A,D as oe,E as ie,G as le,F as ue,r as ce,H as q,k as fe,g as pe,i as D,l as de}from"./entry.8c71bdde.js";import{_ as _e}from"./nuxt-img.38110643.js";import{u as ve}from"./fetch.d422b2e1.js";import"./composables.0f007f17.js";re({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t,attrs:r}){const a=I(!1);return U(()=>{a.value=!0}),n=>{var l;if(a.value)return(l=t.default)==null?void 0:l.call(t);const s=t.fallback||t.placeholder;if(s)return s();const o=n.fallback||n.placeholder||"",c=n.fallbackTag||n.placeholderTag||"span";return w(c,r,o)}}});const x=new WeakMap;function me(e){if(x.has(e))return x.get(e);const t={...e};return t.render?t.render=(r,...a)=>{var n;if(r.mounted$){const s=e.render(r,...a);return s.children===null||typeof s.children=="string"?d(s.type,s.props,s.children,s.patchFlag,s.dynamicProps,s.shapeFlag):$(s)}else return $("div",(n=r.$attrs)!=null?n:r._.attrs)}:t.template&&(t.template=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else><div></div></template>
    `),t.setup=(r,a)=>{var s;const n=I(!1);return U(()=>{n.value=!0}),Promise.resolve(((s=e.setup)==null?void 0:s.call(e,r,a))||{}).then(o=>typeof o!="function"?{...o,mounted$:n}:(...c)=>{if(n.value){const l=o(...c);return l.children===null||typeof l.children=="string"?d(l.type,l.props,l.children,l.patchFlag,l.dynamicProps,l.shapeFlag):$(l)}else return $("div",a.attrs)})},x.set(e,t),t}const he=""+new URL("heartFilled.7a401f85.png",import.meta.url).href,ye=""+new URL("heartOutline.cdbc192a.png",import.meta.url).href,ge={class:"relative shadow-lg border-2 w-full overflow-hidden mb-5 cursor-pointer h-[200px]"},we=["src"],Oe={class:"p-4 flex flex-col"},be={class:"text-2xl text-blue-700"},Pe={class:"text-gray-700"},$e={class:"mt-auto text-xl"},Se={__name:"Card.client",props:{car:Object,favored:Boolean},emits:["favor"],setup(e,{emit:t}){const r=ae();return(a,n)=>{const s=_e;return h(),w("div",ge,[d("img",{class:"absolute w-7 right-5 top-2 z-20",src:e.favored?_(he):_(ye),alt:"",onClick:n[0]||(n[0]=o=>t("favor",e.car.id))},null,8,we),d("div",{class:"flex h-full",onClick:n[1]||(n[1]=o=>_(se)(`/car/${e.car.name}-${e.car.id}`))},[ne(s,{src:`${_(r).public.supabase.url}/storage/v1/object/public/images/${e.car.image}`,class:"w-[300px] h-full"},null,8,["src"]),d("div",Oe,[d("div",null,[d("h1",be,E(e.car.name),1),d("p",Pe,E(e.car.description),1)]),d("h1",$e,"$"+E(e.car.price),1)])])])}}};var R;const O=typeof window<"u",Fe=e=>typeof e=="function",Ie=e=>typeof e=="string",Ce=()=>{};O&&((R=window==null?void 0:window.navigator)==null?void 0:R.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function H(e){return typeof e=="function"?e():_(e)}function Ee(e,t){function r(...a){e(()=>t.apply(this,a),{fn:t,thisArg:this,args:a})}return r}const G=e=>e();function xe(e=G){const t=I(!0);function r(){t.value=!1}function a(){t.value=!0}return{isActive:t,pause:r,resume:a,eventFilter:(...s)=>{t.value&&e(...s)}}}function Ne(e){return e}function je(e){return oe()?(ie(e),!0):!1}var L=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,Te=(e,t)=>{var r={};for(var a in e)Ae.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&L)for(var a of L(e))t.indexOf(a)<0&&ke.call(e,a)&&(r[a]=e[a]);return r};function De(e,t,r={}){const a=r,{eventFilter:n=G}=a,s=Te(a,["eventFilter"]);return A(e,Ee(n,t),s)}var Re=Object.defineProperty,Le=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,We=(e,t)=>{for(var r in t||(t={}))K.call(t,r)&&Q(e,r,t[r]);if(S)for(var r of S(t))X.call(t,r)&&Q(e,r,t[r]);return e},Be=(e,t)=>Le(e,Qe(t)),Ve=(e,t)=>{var r={};for(var a in e)K.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&S)for(var a of S(e))t.indexOf(a)<0&&X.call(e,a)&&(r[a]=e[a]);return r};function ze(e,t,r={}){const a=r,{eventFilter:n}=a,s=Ve(a,["eventFilter"]),{eventFilter:o,pause:c,resume:l,isActive:f}=xe(n);return{stop:De(e,t,Be(We({},s),{eventFilter:o})),pause:c,resume:l,isActive:f}}function Je(e){var t;const r=H(e);return(t=r==null?void 0:r.$el)!=null?t:r}const F=O?window:void 0;O&&window.document;O&&window.navigator;O&&window.location;function Me(...e){let t,r,a,n;if(Ie(e[0])||Array.isArray(e[0])?([r,a,n]=e,t=F):[t,r,a,n]=e,!t)return Ce;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},c=(u,v,y)=>(u.addEventListener(v,y,n),()=>u.removeEventListener(v,y,n)),l=A(()=>Je(t),u=>{o(),u&&s.push(...r.flatMap(v=>a.map(y=>c(u,v,y))))},{immediate:!0,flush:"post"}),f=()=>{l(),o()};return je(f),f}const N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j="__vueuse_ssr_handlers__";N[j]=N[j]||{};const Ue=N[j];function qe(e,t){return Ue[e]||t}function He(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}var Ge=Object.defineProperty,W=Object.getOwnPropertySymbols,Ke=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,B=(e,t,r)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t)=>{for(var r in t||(t={}))Ke.call(t,r)&&B(e,r,t[r]);if(W)for(var r of W(t))Xe.call(t,r)&&B(e,r,t[r]);return e};const Ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function Ze(e,t,r,a={}){var n;const{flush:s="pre",deep:o=!0,listenToStorageChanges:c=!0,writeDefaults:l=!0,mergeDefaults:f=!1,shallow:u,window:v=F,eventFilter:y,onError:C=i=>{console.error(i)}}=a,g=(u?le:I)(t);if(!r)try{r=qe("getDefaultStorage",()=>{var i;return(i=F)==null?void 0:i.localStorage})()}catch(i){C(i)}if(!r)return g;const m=H(t),k=He(m),b=(n=a.serializer)!=null?n:Ye[k],{pause:Y,resume:Z}=ze(g,()=>ee(g.value),{flush:s,deep:o,eventFilter:y});return v&&c&&Me(v,"storage",T),T(),g;function ee(i){try{i==null?r.removeItem(e):r.setItem(e,b.write(i))}catch(p){C(p)}}function te(i){Y();try{const p=i?i.newValue:r.getItem(e);if(p==null)return l&&m!==null&&r.setItem(e,b.write(m)),m;if(!i&&f){const P=b.read(p);return Fe(f)?f(P,m):k==="object"&&!Array.isArray(P)?V(V({},m),P):P}else return typeof p!="string"?p:b.read(p)}catch(p){C(p)}finally{Z()}}function T(i){if(!(i&&i.storageArea!==r)){if(i&&i.key===null){g.value=m;return}i&&i.key!==e||(g.value=te(i))}}}function et(e,t,r={}){const{window:a=F}=r;return Ze(e,t,a==null?void 0:a.localStorage,r)}var z;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(z||(z={}));var tt=Object.defineProperty,J=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,M=(e,t,r)=>t in e?tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nt=(e,t)=>{for(var r in t||(t={}))rt.call(t,r)&&M(e,r,t[r]);if(J)for(var r of J(t))at.call(t,r)&&M(e,r,t[r]);return e};const st={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};nt({linear:Ne},st);const ot=me(Se),it={class:"w-full"},lt={__name:"Cards",props:{cars:Array},setup(e){const t=et("favorite",{}),r=a=>{a in t.value?delete t.value[a]:t.value={...t.value,[a]:!0}};return(a,n)=>{const s=ot;return h(),w("div",it,[(h(!0),w(ue,null,ce(e.cars,o=>(h(),q(s,{key:o.id,car:o,onFavor:r,favored:o.id in _(t)},null,8,["car","favored"]))),128))])}}},ut=async(e,t)=>{const{data:r,error:a,refresh:n}=await ve(`/api/cars/${e}`,{params:{...t}},"$3y0lmp87o4");if(a.value)throw fe({...a.value,statusMessage:"Unable to fetch cars"});return{data:r,refresh:n}},ct={key:1,class:"text-red-500"},vt={__name:"[[make]]",async setup(e){let t,r;const a=pe(),n=D(()=>a.query.minPrice),s=D(()=>a.query.maxPrice),{data:o,refresh:c}=([t,r]=de(()=>ut(a.params.city,{minPrice:n,maxPrice:s,make:a.params.make})),t=await t,r(),t);return A(()=>a.query,()=>c()),(l,f)=>{const u=lt;return h(),w("div",null,[_(o).length?(h(),q(u,{key:0,cars:_(o)},null,8,["cars"])):(h(),w("h1",ct,"No Cars Found with Filters"))])}}};export{vt as default};
