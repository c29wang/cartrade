import{_ as w}from"./nuxt-img.38110643.js";import{e as C,o as i,c as u,f as p,b as s,a as t,t as m,F as k,r as D,g as v,h as x,i as M,w as _,v as f,j as g,k as V,l as N}from"./entry.8c71bdde.js";import{u as S}from"./composables.0f007f17.js";import{u as j}from"./fetch.d422b2e1.js";import{u as B}from"./useUtilities.50e64ac7.js";const U={class:"mt-10"},A={class:"mt-10 text-4xl"},F={class:"text-slate-500 flex text-lg mt-3 border-b pb-5 justify-between"},E={class:"flex"},H={class:"mr-2"},O=t("p",{class:"mr-2"},"|",-1),R={class:"mr-2"},T={class:"font-bold text-2xl"},I={__name:"Hero",props:{car:Object},setup(a){const o=C();return(e,n)=>{const r=w;return i(),u("div",U,[p(r,{src:`${s(o).public.supabase.url}/storage/v1/object/public/images/${a.car.image}`,class:"w-full",alt:""},null,8,["src"]),t("h1",A,m(a.car.name),1),t("div",F,[t("div",E,[t("p",H,m(a.car.numberOfSeats)+" seats",1),O,t("p",R,m(a.car.miles)+" miles",1)]),t("div",null,[t("p",T,"$"+m(a.car.price),1)])])])}}},P={class:"mr-10 mt-5 border-b pb-5"},L=t("p",{class:"rounded text-lime-800 mr-3"},"\u2714",-1),Z={__name:"Attributes",props:{features:Array},setup(a){return(o,e)=>(i(),u("div",P,[(i(!0),u(k,null,D(a.features,n=>(i(),u("div",{class:"flex text-lg mt-2",key:n},[L,t("p",null,m(n),1)]))),128))]))}},q={class:"mt-5"},z={class:"mb-10"},G={__name:"Description",props:{description:String},setup(a){return(o,e)=>(i(),u("div",q,[t("p",z,m(a.description),1)]))}},J={class:"mt-10"},K={class:"flex w-[600px] justify-between"},Q={class:"flex mt-4 w-[600px]"},W=["disabled"],X={key:0,class:"mt-3 text-red-400"},Y={key:1,class:"mt-3 text-green-400"},ee={__name:"Contact",setup(a){const o=v(),e=x({name:"",email:"",phone:"",message:""}),n=x(""),r=x(""),h=M(()=>{for(let d in e.value)if(!e.value[d])return!0;return!1}),b=async()=>{try{const d=await $fetch(`/api/car/listings/${o.params.id}/message`,{method:"POST",body:e.value});e.value={name:"",email:"",phone:"",message:""},r.value="Message sent!",n.value=""}catch(d){n.value=d.statusMessage,r.value=""}};return(d,c)=>(i(),u("div",J,[t("div",K,[_(t("input",{type:"text",class:"border p-1",placeholder:"Name","onUpdate:modelValue":c[0]||(c[0]=l=>s(e).name=l)},null,512),[[f,s(e).name]]),_(t("input",{type:"text",class:"border p-1",placeholder:"Email","onUpdate:modelValue":c[1]||(c[1]=l=>s(e).email=l)},null,512),[[f,s(e).email]]),_(t("input",{type:"text",class:"border p-1",placeholder:"Phone","onUpdate:modelValue":c[2]||(c[2]=l=>s(e).phone=l)},null,512),[[f,s(e).phone]])]),t("div",Q,[_(t("textarea",{class:"border p-1 w-full",placeholder:"Message","onUpdate:modelValue":c[3]||(c[3]=l=>s(e).message=l)},null,512),[[f,s(e).message]])]),t("button",{disabled:s(h),class:"bg-blue-400 text-white px-10 py-3 rounded mt-4",onClick:b}," Submit ",8,W),s(n)?(i(),u("p",X,m(s(n)),1)):g("",!0),s(r)?(i(),u("p",Y,m(s(r)),1)):g("",!0)]))}},te=async a=>{const{data:o,error:e}=await j(`/api/car/${a}`,{},"$Z2BfINhu1R");if(e.value)throw V({statusCode:e.value.statusCode,statusMessage:e.value.statusMessage});return{data:o}},ce={__name:"[name]-[id]",async setup(a){let o,e;const n=v(),{data:r}=([o,e]=N(()=>te(n.params.id)),o=await o,e(),o),{toTitleCase:h}=B();return S({title:h(n.params.name)}),(b,d)=>{const c=I,l=Z,$=G,y=ee;return i(),u("div",null,[p(c,{car:s(r)},null,8,["car"]),p(l,{features:s(r).features},null,8,["features"]),p($,{description:s(r).description},null,8,["description"]),p(y)])}}};export{ce as default};
